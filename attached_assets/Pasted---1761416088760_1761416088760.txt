–ù—É–∂–Ω–æ –¥–æ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ —Å–ª–∞–π–¥—ã (—Å–ª–∞–π–¥–µ—Ä –Ω–∞ –≥–ª–∞–≤–Ω–æ–π) –∏ –¥–µ–ø–ª–æ–π —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–¥–∞–∫—à–Ω–∞ (–í–ê–ñ–ù–û, —á–∏—Ç–∞–π –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ):

–í –ø—Ä–æ–¥–∞–∫—à–Ω-–±–∞–∑–µ (PostgreSQL) —Ç–∞–±–ª–∏—Ü–∞ slides –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤—ã–≥–ª—è–¥–µ–ª–∞ —Ç–∞–∫:

title TEXT (—Å—Ç—Ä–æ–∫–∞, –Ω–æ –ø–æ —Å—É—Ç–∏ –º—ã —Ç—É–¥–∞ –∏–Ω–æ–≥–¥–∞ —Å–∫–ª–∞–¥—ã–≤–∞–ª–∏ JSON –∫–∞–∫ —Ç–µ–∫—Å—Ç)

description TEXT
–∏ —Ç.–¥.

–í –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –∫–æ–¥–∞ (–∫–æ—Ç–æ—Ä—É—é —Ç—ã —Å–¥–µ–ª–∞–ª –Ω–∞ Replit) –ª–æ–≥–∏–∫–∞ —Å–ª–∞–π–¥–æ–≤ —Å—Ç–∞–ª–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ–π:

—Ç–µ–ø–µ—Ä—å title = –æ–±—ä–µ–∫—Ç –≤–∏–¥–∞ {ru: "...", en: "..." }

–∏ —Ç–æ –∂–µ –¥–ª—è description
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤ Prisma-—Å—Ö–µ–º–µ —Ç–µ–ø–µ—Ä—å —É slides.title –∏ slides.description —Ç–∏–ø Json (–∏–ª–∏ Json?).

–ö–æ–≥–¥–∞ –º—ã –∑–∞–¥–µ–ø–ª–æ–∏–ª–∏ —Ç–≤–æ—é –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∑–∞–ø—É—Å—Ç–∏–ª–∏ ./update.sh, —Å–∫—Ä–∏–ø—Ç —É–ø–∞–ª –Ω–∞ —à–∞–≥–µ prisma db push —Å –æ—à–∏–±–∫–æ–π:

We found changes that cannot be executed:
‚Ä¢ Changed the type of `title` on the `slides` table ... column is required and there is data in the table.
‚Ä¢ Changed the type of `description` on the `slides` table ...


–¢–æ –µ—Å—Ç—å Prisma –Ω–µ —Å–º–æ–≥–ª–∞ —Å–∞–º–∞ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø —Å—Ç–æ–ª–±—Ü–æ–≤ TEXT ‚Üí JSONB, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–º —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ.

–ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –¥–µ–ø–ª–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –ü–†–Ø–ú–û –ü–û–°–õ–ï pm2 stop, –Ω–æ –î–û pm2 start, –∏ —Å–∞–π—Ç –æ—Å—Ç–∞–ª—Å—è –≤—ã–∫–ª—é—á–µ–Ω. –≠—Ç–æ –ø–ª–æ—Ö–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–¥–∏–Ω –Ω–µ—É–¥–∞—á–Ω—ã–π –¥–µ–ø–ª–æ–π —Å–µ–π—á–∞—Å = —Å–∞–π—Ç –ª—ë–≥.

–ù–∞–º –æ—Ç —Ç–µ–±—è –Ω—É–∂–Ω–æ —Ç—Ä–∏ –≤–µ—â–∏.

1. –ü–æ—á–∏–Ω–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, Prisma schema + –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å–ª–∞–π–¥–æ–≤ —Ç–∞–∫, —á—Ç–æ–±—ã —ç—Ç–æ –±—ã–ª–æ –°–¢–ê–ë–ò–õ–¨–ù–û.

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–æ–¥–µ–ª–∏ Slide –≤ prisma/schema.prisma:

–ü–æ–ª—è title –∏ description –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å Json (–∏–ª–∏ Json?, –µ—Å–ª–∏ —Ç—ã —Ä–µ—à–∏–ª —Å–¥–µ–ª–∞—Ç—å –∏—Ö –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏). –ì–ª–∞–≤–Ω–æ–µ ‚Äî —á—Ç–æ–±—ã –≤ —Ä–∞–Ω—Ç–∞–π–º–µ backend –≤—Å–µ–≥–¥–∞ –æ—Ç–¥–∞–≤–∞–ª frontend'—É –æ–±—ä–µ–∫—Ç —Ñ–æ—Ä–º–∞—Ç–∞:

{
  "ru": "–¢–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º",
  "en": "Text in English"
}


–¥–∞–∂–µ –µ—Å–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–æ–∫–∞ –Ω–µ—Ç (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø—É—Å—Ç—å –±—É–¥–µ—Ç "").

–ü–æ–ª–µ buttonText –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è —Å—Ç—Ä–æ–∫–æ–π –∏–ª–∏ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º ‚Äî –≤—ã–±–µ—Ä–∏ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –∏ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Å—è –µ–≥–æ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ –∏ –≤ API. –ï—Å–ª–∏ –æ–Ω–æ —É —Ç–µ–±—è —Å–µ–π—á–∞—Å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ–µ ‚Äî —Ç–æ —Ç–æ–∂–µ –¥–µ–ª–∞–π –∫–∞–∫ Json. –ï—Å–ª–∏ –æ–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–æ–ª—å–∫–æ RU), —Ç–æ –æ—Å—Ç–∞–≤–ª—è–π string.

–í slideController.ts (–∏–ª–∏ dist/controllers/slideController.js –ø–æ—Å–ª–µ –±–∏–ª–¥–∞):

getSlides –¥–æ–ª–∂–µ–Ω:

–≤—ã—Ç–∞—Å–∫–∏–≤–∞—Ç—å —Å–ª–∞–π–¥—ã –∏–∑ –±–∞–∑—ã

–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–∏–¥–∞—Ç—å 500 –¥–∞–∂–µ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∫—Ä–∏–≤—ã–µ

–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç –≤–∏–¥–∞:

{
  "success": true,
  "data": [
    {
      "id": 1,
      "title": { "ru": "...", "en": "..." },
      "description": { "ru": "...", "en": "..." },
      "image": "...",
      "link": "...",
      "buttonText": "..." –∏–ª–∏ { "ru": "...", "en": "..." },
      "isActive": true,
      "order": 1
    }
  ]
}


–ù–ï –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å, –µ—Å–ª–∏ —É —Å–ª–∞–π–¥–∞ –Ω–µ—Ç city –∏–ª–∏ –µ—Å–ª–∏ –ø–æ–ª—è –ø—É—Å—Ç—ã–µ.

createSlide –∏ updateSlide:

–Ω–µ –¥–æ–ª–∂–Ω—ã —Ç—Ä–æ–≥–∞—Ç—å cityId –Ω–∞–ø—Ä—è–º—É—é. –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Prisma relation –≤–∏–¥–∞:

city: parsedData.cityId
  ? { connect: { id: parsedData.cityId } }
  : undefined


–∏ –≤ update:

if (parsedData.cityId === null) {
  updateData.city = { disconnect: true };
} else if (parsedData.cityId !== undefined) {
  updateData.city = { connect: { id: parsedData.cityId } };
}


–î–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π: –µ—Å–ª–∏ –Ω–∞ –≤—Ö–æ–¥ –ø—Ä–∏—à–ª–∏ title_ru / title_en –∏ description_ru / description_en (–∏–ª–∏ –∫–∞–∫ —Ç—ã —ç—Ç–æ —Å–µ–π—á–∞—Å –¥–µ–ª–∞–µ—à—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ), —Ç–æ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–±—Ä–∞–Ω—ã –≤ JSON –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –≤ –ø–æ–ª–µ title –∏ description.

–í–ê–ñ–ù–û: –î–∞–∂–µ –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ —Å —Ñ—Ä–æ–Ω—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∏–ª —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç –∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–ª –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –º—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É:

{ "ru": "–µ—Å—Ç—å —Ç–µ–∫—Å—Ç", "en": "" }


–¢–æ –µ—Å—Ç—å –Ω–∞–º –Ω—É–∂–Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏—è: backend –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–π –≤–µ—Ä—Å–∏–∏.

2. –û–±–Ω–æ–≤–∏ update.sh, —á—Ç–æ–±—ã –æ–Ω –Ω–∞–¥—ë–∂–Ω–æ –¥–µ–ø–ª–æ–∏–ª –∏ –Ω–µ –∫–ª–∞–ª —Å–∞–π—Ç –≤ –æ—Ñ—Ñ–ª–∞–π–Ω, –µ—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞.

–°–µ–π—á–∞—Å update.sh –¥–µ–ª–∞–µ—Ç:

—Å—Ç–æ–ø pm2

git pull

npm ci

prisma generate

prisma db push

npm run build

pm2 startOrReload ...

–ü—Ä–æ–±–ª–µ–º—ã:

–û–Ω –¥–µ–ª–∞–µ—Ç git pull, –∞ –Ω–µ "–∂—ë—Å—Ç–∫–æ –∑–∞–±–µ—Ä–∏ origin/main". –ü–æ—ç—Ç–æ–º—É –∏–Ω–æ–≥–¥–∞ –ø–æ—è–≤–ª—è—é—Ç—Å—è merge-–∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–∏–¥–∞ <<<<<<< HEAD.

–û–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç PM2 –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–Ω—è–ª, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤–æ–æ–±—â–µ –≤—ã–ø–æ–ª–Ω–∏–º–∞. –ï—Å–ª–∏ db push –ø–∞–¥–∞–µ—Ç ‚Äî —Å–∞–π—Ç –æ—Å—Ç–∞—ë—Ç—Å—è –≤—ã–∫–ª—é—á–µ–Ω.

–°–¥–µ–ª–∞–π –Ω–∞–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é update.sh —Å–æ —Å–ª–µ–¥—É—é—â–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º:

–í —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ:

#!/usr/bin/env bash
set -euo pipefail


–ë—ç–∫–∞–ø –±–∞–∑—ã ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (—ç—Ç–æ –∫—Ä—É—Ç–æ, –Ω–µ —Ç—Ä–æ–≥–∞–π üëç).

–ü–ï–†–ï–î –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π PM2:

–ó–∞–±—Ä–∞—Ç—å –∫–æ–¥ –∏–∑ GitHub –∂—ë—Å—Ç–∫–æ, –±–µ–∑ merge'–µ–π:

git fetch origin --prune
git reset --hard origin/main


(–Ω–∏–∫–∞–∫–∏—Ö autostash, –Ω–∏–∫–∞–∫–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)

–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

npm ci
npx prisma generate


–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–±—Ä–∞—Ç—å TypeScript:

npm run build


–í–ê–ñ–ù–û: –µ—Å–ª–∏ –±–∏–ª–¥ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è ‚Äî –Ω–µ —Ç—Ä–æ–≥–∞–π pm2, –ø—Ä–æ—Å—Ç–æ –≤—ã–≤–æ–¥–∏ –æ—à–∏–±–∫—É –∏ –≤—ã—Ö–æ–¥–∏ —Å –∫–æ–¥–æ–º 1. –ù–∞–º –≤–∞–∂–Ω–æ –Ω–µ —É–±–∏—Ç—å –ø—Ä–æ–¥.

–¢–µ–ø–µ—Ä—å –¥–µ–ª–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é —Å—Ö–µ–º—ã/db push. –ù–æ:

–ï—Å–ª–∏ npx prisma db push –ø–∞–¥–∞–µ—Ç, –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º "‚ö†Ô∏è Prisma db push failed, continuing without schema change" –∏ –ù–ï –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞ –∞–≤–∞—Ä–∏–π–Ω–æ.
–¢–æ –µ—Å—Ç—å db push –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∞–ª–∏—Ç—å –¥–µ–ø–ª–æ–π –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–∞–π—Ç –ª–µ–∂–∞—Ç—å.

–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –±–∏–ª–¥–∞ (—à–∞–≥ 3) –¥–µ–ª–∞–π:

pm2 startOrReload ecosystem.config.js --only bunyod-tour
pm2 save


–í –∫–æ–Ω—Ü–µ –ø–∏–Ω–≥–∞–µ–º healthcheck:

curl -s -o /dev/null -w "%{http_code}\n" http://127.0.0.1:5000/healthz || true


–ï—â—ë –≤–∞–∂–Ω–æ: update.sh –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø–∏—Å–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ –ª–æ–≥–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–∫–∞–∫ —Å–µ–π—á–∞—Å ‚Äî —ç—Ç–æ –æ–≥–æ–Ω—å).

–ò—Ç–æ–≥–æ: —Å–∞–π—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –æ—Ñ—Ñ–ª–∞–π–Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º—É —á—Ç–æ Prisma –Ω–µ —Å–º–æ–≥–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ–Ω—è—Ç—å —Ç–∏–ø –≤ –∫–æ–ª–æ–Ω–∫–µ.

3. –î–æ–±–∞–≤—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π SQL –¥–ª—è slides

–°–æ–∑–¥–∞–π –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª manual_migrations/001_slides_jsonb.sql —Å —Ç–∞–∫–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

ALTER TABLE slides
  ALTER COLUMN title TYPE JSONB USING title::jsonb,
  ALTER COLUMN description TYPE JSONB USING description::jsonb;


–ò –≤ update.sh, –ü–ï–†–ï–î npx prisma db push, –¥–æ–±–∞–≤—å –∞–≤—Ç–æ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–æ–≥–æ sql, –Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å—Ç–æ–ª–±—Ü—ã –≤—Å—ë –µ—â—ë —Ç–µ–∫—Å—Ç–æ–≤—ã–µ.

–õ–æ–≥–∏–∫–∞ —Ç–∞–∫–∞—è:

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø –∫–æ–ª–æ–Ω–æ–∫:

–µ—Å–ª–∏ SELECT data_type FROM information_schema.columns ... –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ slides.title —É–∂–µ jsonb ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º

–µ—Å–ª–∏ –Ω–µ jsonb ‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º psql –ø–æ–¥ postgres –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º manual_migrations/001_slides_jsonb.sql

–≠—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ–ª–∏–∑–∞ –Ω–µ –ø—Ä–∏—à–ª–æ—Å—å —Ä—É–∫–∞–º–∏ –ª–µ–∑—Ç—å –≤ psql.

–ò—Ç–æ–≥, —á—Ç–æ –º–Ω–µ –æ—Ç —Ç–µ–±—è –Ω—É–∂–Ω–æ –≤ pull –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è Prisma-—Å—Ö–µ–º–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ç–∞–∫, —á—Ç–æ–±—ã —Å–ª–∞–π–¥—ã –±—ã–ª–∏ 100% –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ, –≤—Å–µ–≥–¥–∞ {ru,en} –∏ –Ω–µ –ø–∞–¥–∞–ª–∏.

–ù–æ–≤—ã–π update.sh, –∫–æ—Ç–æ—Ä—ã–π:

–∏—Å–ø–æ–ª—å–∑—É–µ—Ç git fetch && git reset --hard origin/main

–±–∏–ª–¥–∏—Ç –î–û —Å—Ç–æ–ø–∞ pm2

–Ω–µ –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∞–π—Ç –º—ë—Ä—Ç–≤—ã–º, –¥–∞–∂–µ –µ—Å–ª–∏ db push –Ω–µ –ø—Ä–æ—à—ë–ª

–≤—ã–ø–æ–ª–Ω—è–µ—Ç manual_migrations/001_slides_jsonb.sql, –µ—Å–ª–∏ —Ç–∏–ø –∫–æ–ª–æ–Ω–æ–∫ –µ—â—ë –Ω–µ jsonb

–î–æ–±–∞–≤—å —ç—Ç–æ—Ç manual_migrations/001_slides_jsonb.sql –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

–°–¥–µ–ª–∞–π –∫–æ–º–º–∏—Ç –∏ –∑–∞–ø—É—à—å –≤ main.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è –ø—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞—é ./update.sh –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ —Å–∞–π—Ç –æ–±–Ω–æ–≤–∏—Ç—Å—è –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è.