[root@archlinux bunyod-tour-prod]# cat > .env << 'ENVFILE'
# ===========================================
# Ğ‘ĞĞ—Ğ Ğ”ĞĞĞĞ«Ğ¥
# ===========================================
DATABASE_URL="postgresql://bunyod_user:Ğ—ĞĞœĞ•ĞĞ˜Ğ¢Ğ•_ĞĞ_ĞŸĞĞ ĞĞ›Ğ¬@localhost:5432/bunyod_tour"
# ===========================================
# Ğ‘Ğ•Ğ—ĞĞŸĞĞ¡ĞĞĞ¡Ğ¢Ğ¬ (ĞĞ‘Ğ¯Ğ—ĞĞ¢Ğ•Ğ›Ğ¬ĞĞ!)
# ===========================================
JWT_SECRET="bunyod-tour-secret-key-2025-production-tajikistan"
NODE_ENV="production"
# ===========================================
# Ğ¡Ğ•Ğ Ğ’Ğ•Ğ 
# ===========================================
PORT=5000
PRODUCTION_DOMAIN="147.45.213.8"
ALLOWED_ORIGINS="http://147.45.213.8"
# ===========================================
# EMAIL (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, Ğ´Ğ»Ñ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹)
# ===========================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER=""
SMTP_PASSWORD=""
SMTP_FROM="Bunyod Tour <noreply@bunyod-tour.tj>"
# ===========================================
# ĞŸĞ›ĞĞ¢Ğ•Ğ–Ğ˜ (Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ ĞºĞ¾Ğ³Ğ´Ğ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ)
# ===========================================
ALIF_MERCHANT_KEY=""
ALIF_MERCHANT_PASSWORD=""
PAYLER_MERCHANT_ID=""
PAYLER_SECRET_KEY=""
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""
# ===========================================
# ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜
# ===========================================
INIT_DATABASE=false
ENABLE_DYNAMIC_PRICING=true
LOG_LEVEL="info"
ENVFILE
[root@archlinux bunyod-tour-prod]# nano .env
[root@archlinux bunyod-tour-prod]# npx prisma db push
Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "bunyod_tour", schema "public" at "localhost:5432"

The database is already in sync with the Prisma schema.

âœ” Generated Prisma Client (v6.15.0) to ./node_modules/@prisma/client in 705ms

[root@archlinux bunyod-tour-prod]# npm run db:seed

> workspace@1.0.0 db:seed
> ts-node prisma/seed.ts

ğŸŒ± Starting database seeding...
âœ… Categories created
âœ… Tours created
ğŸ‰ Database seeding completed successfully!
[root@archlinux bunyod-tour-prod]# pm2 start ecosystem.config.js
[PM2] Applying action restartProcessId on app [bunyod-tour](ids: [ 0 ])
[PM2] [bunyod-tour](0) âœ“
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name           â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ bunyod-tour    â”‚ default     â”‚ 1.0.0   â”‚ cluster â”‚ 1148604  â”‚ 0s     â”‚ 1    â”‚ online    â”‚ 0%       â”‚ 58.6mb   â”‚ root     â”‚ disabled â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[root@archlinux bunyod-tour-prod]# pm2 status
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name           â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ bunyod-tour    â”‚ default     â”‚ 1.0.0   â”‚ cluster â”‚ 1148604  â”‚ 9s     â”‚ 1    â”‚ online    â”‚ 0%       â”‚ 135.4mb  â”‚ root     â”‚ disabled â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[root@archlinux bunyod-tour-prod]# pm2 logs bunyod-tour
[TAILING] Tailing last 15 lines for [bunyod-tour] process (change the value with --lines option)
/root/bunyod-tour-prod/logs/pm2-error.log last 15 lines:
/root/bunyod-tour-prod/logs/pm2-out.log last 15 lines:
0|bunyod-t | 2025-10-10T13:39:30: âœ… Database connected successfully
0|bunyod-t | 2025-10-10T13:39:30: ğŸš€ Tajik Trails API server is running on http://0.0.0.0:5000
0|bunyod-t | 2025-10-10T13:39:30: ğŸ“Š Environment: production
0|bunyod-t | 2025-10-10T13:39:30: ğŸŒ CORS enabled for: http://localhost:5000
0|bunyod-t | 2025-10-10T13:39:30: ğŸ”— Health check: http://0.0.0.0:5000/api/health
0|bunyod-t | 2025-10-10T13:39:44: Fetching tour blocks...
0|bunyod-t | 2025-10-10T13:39:44: Found tour blocks: 0
0|bunyod-t | 2025-10-10T14:05:43: SIGINT signal received: closing HTTP server
0|bunyod-t | 2025-10-10T14:05:43: HTTP server closed
0|bunyod-t | 2025-10-10T14:05:44: âœ… Database connected successfully
0|bunyod-t | 2025-10-10T14:05:44: ğŸš€ Tajik Trails API server is running on http://0.0.0.0:5000
0|bunyod-t | 2025-10-10T14:05:44: ğŸ“Š Environment: production
0|bunyod-t | 2025-10-10T14:05:44: ğŸŒ CORS enabled for: http://localhost:5000
0|bunyod-t | 2025-10-10T14:05:44: ğŸ”— Health check: http://0.0.0.0:5000/api/health
